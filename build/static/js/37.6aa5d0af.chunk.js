(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1161:function(e,t,a){"use strict";a.r(t);var n=a(39),r=a(0),c=a.n(r),l=(a(60),a(275)),s=a(276),o=a(156),i=a(264),m=a(476),u=a(265),d=a(253),p=a(252),E=a(62),b=a(20),f=a(172),v=(a(301),a(165)),g=a(456),w=a.n(g),N=a(40),h=a(1126),y=a(599),j=a(1098),O=(a(1099),a(302)),L=a(261);t.default=Object(f.j)(Object(E.b)(function(e){var t=e.Lessons;return{topics:t.topics,selectedTopic:t.selectedTopic,newLessonUploading:t.newLessonUploading,newLessonError:t.newLessonError}},{addNewLesson:b.a})(function(e){var t=Object(r.useState)(function(){return y.EditorState.createEmpty()}),a=Object(n.a)(t,2),E=a[0],b=a[1],f=Object(r.useState)(!1),g=Object(n.a)(f,2),k=g[0],C=g[1],S=Object(r.useState)(""),T=Object(n.a)(S,2),x=T[0],U=T[1],B=Object(r.useState)(""),R=Object(n.a)(B,2),F=R[0],P=R[1],q=Object(r.useState)(""),z=Object(n.a)(q,2),D=z[0],A=z[1],J=Object(r.useState)(!1),V=Object(n.a)(J,2),Y=V[0],G=V[1],H=c.a.createRef();Object(r.useEffect)(function(){e.selectedTopic||e.history.goBack()},[e.selectedTopic]),Object(r.useEffect)(function(){!k||e.newLessonUploading||e.newLessonError?k&&!e.newLessonUploading&&e.newLessonError&&(C(!1),Object(O.a)("New Lesson",e.newLessonError)):(C(!1),Object(O.b)("New Lesson","Lesson Added successfully"),e.history.goBack())},[e.newLessonUploading]);var I=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return t&&11==t[7].length?t[7]:""},K=function(){var e=E.getCurrentContent(),t=Object(y.convertToRaw)(e);return Object(h.a)(t)},M=function(e){return"https://youtube.com/embed/".concat(I(e))};return c.a.createElement(r.Fragment,null,c.a.createElement(v.a,{blocking:e.newLessonUploading},c.a.createElement(l.a,null,c.a.createElement(s.a,null,c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("div",{className:"d-none d-lg-inline d-xl-inline"},c.a.createElement(o.a.Ripple,{className:"btn-block btn-icon",color:"flat-primary",onClick:function(){e.history.goBack()}},c.a.createElement(L.a,{size:14}))),c.a.createElement("h4",{className:"text-primary ml-25 mb-0"},"New Lesson")),c.a.createElement("div",null,c.a.createElement(o.a.Ripple,{color:"primary",onClick:function(){return G(!Y)}},Y?"Exit Preview":"Preview"))),e.selectedTopic&&c.a.createElement("h6",{className:"ml-25 mb-0"},e.topics.find(function(t){return t.id==e.selectedTopic}).title),Y?c.a.createElement("div",{className:"active-lesson"},c.a.createElement("h3",{className:"mt-1"},x),D&&c.a.createElement("div",{className:"mt-1 lesson-video"},c.a.createElement("iframe",{type:"text/html",src:M(D),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),c.a.createElement("div",{ref:H,id:"active-lesson-content",className:"mt-3"}),function(){var e=K();if(e){var t=String(e).replaceAll("/uploads/","http://192.168.10.102:1337/uploads/");setTimeout(function e(){H.current?Object(N.render)(c.a.createElement(w.a,null,t),H.current):setTimeout(e,100)},100)}}()):c.a.createElement(i.a,{className:"mt-1 mb-2",onSubmit:function(t){return function(t){t.preventDefault(),C(!0),e.addNewLesson({topic:e.selectedTopic,title:x,description:F,content:K(),videoUrl:M(D)})}(t)}},c.a.createElement(m.a,null,c.a.createElement(u.a,{className:"ml-25"},"Title"),c.a.createElement(d.a,{className:"input-group-merge"},c.a.createElement(p.a,{type:"text",placeholder:"Title",value:x,onChange:function(e){return U(e.target.value)},required:!0}))),c.a.createElement(m.a,null,c.a.createElement(u.a,{className:"ml-25"},"Description"),c.a.createElement(d.a,{className:"input-group-merge"},c.a.createElement(p.a,{type:"textarea",rows:"4",placeholder:"Description",value:F,onChange:function(e){return P(e.target.value)},required:!0}))),c.a.createElement(m.a,null,c.a.createElement(u.a,{className:"ml-25 "},"Content"),c.a.createElement(j.Editor,{editorState:E,onEditorStateChange:function(e){b(e)},wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class"})),c.a.createElement(m.a,null,c.a.createElement(u.a,{className:"ml-25"},"Video Url"),c.a.createElement(d.a,{className:"input-group-merge"},c.a.createElement(p.a,{type:"url",placeholder:"video url",value:D,onChange:function(e){return A(e.target.value)}}))),D&&c.a.createElement(m.a,null,c.a.createElement("img",{src:function(e){var t=I(e);return"https://img.youtube.com/vi/".concat(t,"/hqdefault.jpg")}(D),className:"rounded  new-lesson-thumbnail",alt:"Not Valid Url"})),c.a.createElement(o.a.Ripple,{type:"submit",color:"primary",className:"mt-2"},"Submit"))))))}))},165:function(e,t,a){"use strict";var n=a(46),r=a(0),c=a.n(r),l=a(60),s=a.n(l),o=a(201),i=(a(169),function(e){var t,a=e.children,l=e.blocking,o=e.loader,i=e.className,m=e.tag,u=e.overlayColor,d=m;return c.a.createElement(d,{className:s()("ui-loader",(t={},Object(n.a)(t,i,i),Object(n.a)(t,"show",l),t))},a,l?c.a.createElement(r.Fragment,null,c.a.createElement("div",Object.assign({className:"overlay"},l&&u?{style:{backgroundColor:u}}:{})),c.a.createElement("div",{className:"loader"},o)):null)});t.a=i,i.defaultProps={tag:"div",blocking:!1,loader:c.a.createElement(o.a,{color:"primary"})}},169:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){"use strict";a.d(t,"b",function(){return d}),a.d(t,"a",function(){return p});var n=a(0),r=a.n(n),c=a(307),l=a(175),s=a(67),o=a(173),i=a.n(o),m=function(e,t,a,o){return Object(s.b)(r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"toastify-header"},r.a.createElement("div",{className:"title-wrapper mr-1"},r.a.createElement(l.a,{size:"sm",color:o,icon:r.a.createElement(c.a,{size:12})}),r.a.createElement("h6",{className:"toast-title text-".concat(o)},e||"Notification")),r.a.createElement("small",{className:"text-muted"},i()().format("hh:mm a"))),r.a.createElement("div",{className:"toastify-body"},r.a.createElement("span",{role:"img","aria-label":"toast-text"},t))),{hideProgressBar:a})},u=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];switch(e){case"success":m(t,a,n,"success");break;case"info":m(t,a,n,"info");break;case"error":m(t,a,n,"danger");break;case"warning":m(t,a,n,"warning");break;default:m(t,a,n,"primary")}},d=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];u("success",e,t,a)},p=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];u("error",e,t,a)}}}]);
//# sourceMappingURL=37.6aa5d0af.chunk.js.map
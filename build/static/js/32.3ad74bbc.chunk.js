(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1168:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(203),r=a(204),c=a(254),i=a(39),u=a(275),m=a(276),o=a(534),d=a(497),E=a(498),g=a(537),f=a(539),p=a(62),b=a(172),T=(a(191),a(165)),h=a(178),S=a(156),v=a(229),O=a(481),j=a(551),N=a(151),y=a(482),k=a(645),D=a(486),C=a(496),w=a(190),I=a(175),A=a(31),M=a(170),L=a(12),R=a(350),U=a(535),Y=a(323),F=function(e){var t=e.students,a=e.isOpen,n=e.toggleModalState,s=e.onSelectedStudent;return l.a.createElement(R.a,{className:"modal-lg",scrollable:!0,isOpen:a,toggle:n},l.a.createElement(U.a,{toggle:n},"Assign test to student"),l.a.createElement(Y.a,null,l.a.createElement(v.a,{responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Created At"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,t&&t.map(function(e,t){return l.a.createElement("tr",{key:"student-list-".concat(e.userId)},l.a.createElement("td",null,t+1),l.a.createElement("td",null,l.a.createElement(I.a,{className:"cursor-pointer",img:Object(L.M)(e.user.profilePicture)}),l.a.createElement("span",{className:"align-middle font-weight-bold ml-1"},e.user.name)),l.a.createElement("td",null,e.user.email),l.a.createElement("td",null,l.a.createElement(M.a,{dateTime:e.user.createdAt,type:"date"})),l.a.createElement("td",null,l.a.createElement(S.a.Ripple,{color:"flat-primary",onClick:function(t){t.preventDefault(),s(e)}},"Assign")))})))))},x=a(536),z=a(265),P=a(548),V=a.n(P),B=(a(549),a(550)),H=a.n(B),J=a(173),G=a.n(J),K=function(e){return l.a.createElement(H.a,null,l.a.createElement(z.a,{for:"default-picker"},e.label||"Date"),l.a.createElement(V.a,{className:"form-control",value:e.value,onChange:function(t){return e.onChange(t[0])},id:"default-picker",options:{dateFormat:"d/m/Y",disable:e.disableDates?e.disableDates.map(function(e){return G()(e).format("DD/MM/YYYY")}):[]}}))},_=function(e){return l.a.createElement(H.a,null,l.a.createElement(z.a,{id:"timepicker"},e.label||"Time"),l.a.createElement(V.a,{className:"form-control",value:e.value,id:"timepicker",options:{enableTime:!0,noCalendar:!0,dateFormat:"G:i K",time_24hr:!1,defaultMinute:0,minuteIncrement:15},onChange:function(t){return e.onChange(t[0])}}))},q=function(e){var t=e.isOpen,a=e.toggleModalState,c=e.setTestDuration,u=Object(n.useState)(new Date),m=Object(i.a)(u,2),o=m[0],d=m[1],E=Object(n.useState)(new Date),g=Object(i.a)(E,2),f=g[0],p=g[1],b=Object(n.useState)(new Date),T=Object(i.a)(b,2),h=T[0],v=T[1],O=Object(n.useState)(new Date),j=Object(i.a)(O,2),N=j[0],y=j[1],k=Object(n.useState)(t),D=Object(i.a)(k,2),C=D[0];D[1];return l.a.createElement(R.a,{className:"modal-lg",scrollable:!0,isOpen:C,toggle:a},l.a.createElement(U.a,{toggle:a},"Select test to Start and End date "),l.a.createElement(Y.a,null,l.a.createElement(s.a,null,l.a.createElement(r.a,{md:6},l.a.createElement(K,{label:"Start Date",value:o,onChange:d})),l.a.createElement(r.a,{md:6},l.a.createElement(_,{label:"Start Time",value:h,onChange:v}))),l.a.createElement(s.a,null,l.a.createElement(r.a,{md:6},l.a.createElement(K,{label:"End Date",value:f,onChange:p})),l.a.createElement(r.a,{md:6},l.a.createElement(_,{label:"End Time",value:N,onChange:y})))),l.a.createElement(x.a,null,l.a.createElement(S.a,{color:"primary",onClick:function(){c({startDate:o,endDate:f,startTime:h,endTime:N})}}," Done ")))};function Q(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"HH:mm";return"".concat(G()(e).format(a)," ").concat(G()(t).format(n))}var W={getAllStudents:h.c},X=Object(b.j)(Object(p.b)(function(e){var t=e.Students;return{students:t.students,studentsError:t.studentsError,studentsLoading:t.studentsLoading}},W)(function(e){var t=e.isUpcoming,a=e.onAssignTest,s=e.onUnassignTest,r=e.studentTests,c=e.fetchStudents,u=e.isReloading,o=e.students,d=Object(n.useState)(!1),E=Object(i.a)(d,2),g=E[0],f=E[1],p=Object(n.useState)(!1),b=Object(i.a)(p,2),T=b[0],h=b[1],R=Object(n.useState)(null),U=Object(i.a)(R,2),Y=U[0],x=U[1];Object(n.useEffect)(function(){e.getAllStudents()},[]);var z=function(e){switch(e){case"active":return"light-success";case"blocked":return"light-danger";case"waiting-for-teacher":case"new":default:return"light-warning"}},P=function(){f(!g)};return l.a.createElement(w.a,{className:"past-and-upcoming-test-student",title:"Students",onReload:c,isReloading:u},t&&l.a.createElement(S.a.Ripple,{className:"btn-header",size:"sm",color:"primary",onClick:function(){return P()}},l.a.createElement("span",{className:"align-middle ml-25"},"Schedule Test")),l.a.createElement(m.a,{className:"p-0"},l.a.createElement(v.a,{responsive:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Start time"),l.a.createElement("th",null,"End time"),l.a.createElement("th",null,"Status"),t&&l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,r&&r.map(function(a,n){return l.a.createElement("tr",{key:a.studentTestId},l.a.createElement("td",null,n+1),l.a.createElement("td",null,l.a.createElement(I.a,{className:"cursor-pointer",img:Object(L.M)(a.user.user.profilePicture)}),l.a.createElement("span",{className:"align-middle font-weight-bold ml-1"},a.user.user.name)),l.a.createElement("td",null,l.a.createElement(M.a,{dateTime:a.startTime,type:"datetime"})),l.a.createElement("td",null,l.a.createElement(M.a,{dateTime:a.endTime,type:"datetime"})),l.a.createElement("td",null,l.a.createElement(O.a,{pill:!0,color:z(a.user.status),className:"mr-1"},Object(A.i)(a.user.status))),t&&l.a.createElement("td",null,l.a.createElement("div",{className:"d-flex"},l.a.createElement(y.a,null,l.a.createElement(k.a,{className:"pr-1",tag:"span"},l.a.createElement(j.a,{size:15})),l.a.createElement(D.a,{right:!0},l.a.createElement(C.a,{tag:"a",href:"/",className:"w-100",onClick:function(t){return function(t,a){t.preventDefault(),e.onUnassignTest&&s(a.studentTestId)}(t,a)}},l.a.createElement(N.a,{size:15}),l.a.createElement("span",{className:"align-middle ml-50"},"Unassign")))))))}))),g&&l.a.createElement(F,{students:o,isOpen:g,onSelectedStudent:function(e){x(e),f(!g),h(!T)},toggleModalState:P}),T&&l.a.createElement(q,{isOpen:T,setTestDuration:function(t){h(!T);var n={startTime:Q(t.startDate,t.startTime),endTime:Q(t.endDate,t.endTime),student:Y};e.onAssignTest&&a(n)},toggleModalState:function(){h(!T)}})))})),Z=a(267),$=a.n(Z),ee=a(547),te=a.n(ee),ae=(a(446),{unassignTest:h.u,assignTest:h.a,getPastStudent:h.e,getUpcomingStudent:h.k}),ne=Object(b.j)(Object(p.b)(function(e){var t=e.Tests,a=t.assignTest,n=t.assignTestLoading,l=t.assignTestError,s=t.assignTestSuccess,r=t.pastStudents,c=t.pastStudentsLoading,i=t.pastStudentsError,u=t.upcomingStudents,m=t.upcomingStudentsLoading,o=t.upcomingStudentsError;t.unassignTestLoading,t.unassignTestError,t.unassignTestSuccess;return{assignTest:a,assignTestLoading:n,assignTestError:l,assignTestSuccess:s,pastStudents:r,pastStudentsLoading:c,pastStudentsError:i,upcomingStudents:u,upcomingStudentsLoading:m,upcomingStudentsError:o}},ae)(function(e){var t=te()($.a),a=Object(n.useState)("1"),s=Object(i.a)(a,2),r=s[0],c=s[1],p=Object(n.useState)(!1),b=Object(i.a)(p,2),h=b[0],S=b[1],v=e.test,O=e.pastStudents,j=e.upcomingStudents,N=e.assignTestLoading,y=e.pastStudentsLoading,k=e.upcomingStudentsLoading,D=e.unassignTestLoading,C=function(e){r!==e&&c(e)},w=function(){e.getPastStudent(v.testId),e.getUpcomingStudent(v.testId)};Object(n.useEffect)(function(){w()},[]),Object(n.useEffect)(function(){S(N)},[N]),Object(n.useEffect)(function(){S(D)},[D]),Object(n.useEffect)(function(){e.assignTestError&&I(e.assignTestError,"error"),e.assignTestSuccess&&I("Test has been assigned successfully","success"),w()},[e.assignTestError,e.assignTestSuccess]),Object(n.useEffect)(function(){e.unassignTestError&&I(e.unassignTestError,"error"),e.unassignTestSuccess&&I("Test has been unassigned successfully","success"),w()},[e.unassignTestError,e.unassignTestSuccess]);var I=function(e,a){return t.fire({title:e,icon:a,customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{blocking:h},l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(o.a,{tabs:!0,fill:!0},l.a.createElement(d.a,null,l.a.createElement(E.a,{active:"1"===r,onClick:function(){C("1")}},"Past Test")),l.a.createElement(d.a,null,l.a.createElement(E.a,{active:"2"===r,onClick:function(){C("2")}},"Upcoming Test"))),l.a.createElement(g.a,{className:"py-50",activeTab:r},l.a.createElement(f.a,{tabId:"1"},l.a.createElement(X,{studentTests:O,isUpcoming:!1,fetchStudents:w,isReloading:y})),l.a.createElement(f.a,{tabId:"2"},l.a.createElement(X,{studentTests:j,isUpcoming:!0,fetchStudents:w,onAssignTest:function(t){var a={studentId:t.student.user.userId,startTime:t.startTime,endTime:t.endTime,testId:v.testId};e.assignTest(a)},onUnassignTest:function(t){var a={studentId:t,testId:v.testId};e.unassignTest(a)},isReloading:k})))))))}));t.default=function(e){var t=e.location.state.test;return l.a.createElement(l.a.Fragment,null,Object.keys(t).length>0&&l.a.createElement(s.a,null,l.a.createElement(r.a,{lg:12},l.a.createElement(c.a,{test:t})),l.a.createElement(r.a,{lg:12},l.a.createElement(ne,{test:t}))))}},165:function(e,t,a){"use strict";var n=a(46),l=a(0),s=a.n(l),r=a(60),c=a.n(r),i=a(201),u=(a(169),function(e){var t,a=e.children,r=e.blocking,i=e.loader,u=e.className,m=e.tag,o=e.overlayColor,d=m;return s.a.createElement(d,{className:c()("ui-loader",(t={},Object(n.a)(t,u,u),Object(n.a)(t,"show",r),t))},a,r?s.a.createElement(l.Fragment,null,s.a.createElement("div",Object.assign({className:"overlay"},r&&o?{style:{backgroundColor:o}}:{})),s.a.createElement("div",{className:"loader"},i)):null)});t.a=u,u.defaultProps={tag:"div",blocking:!1,loader:s.a.createElement(i.a,{color:"primary"})}},169:function(e,t,a){},170:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(0),l=a.n(n),s=a(173),r=a.n(s),c=a(64),i=a.n(c),u=function(e){var t="DD/MM/yyyy hh:mmA";return e.type&&("date"===e.type&&(t="DD/MM/yyyy"),"time"===e.type&&(t="hh:mmA")),l.a.createElement(l.a.Fragment,null,e.dateTime?r.a.utc(e.dateTime).local().format(e.format||t):e.invalidValueText)};u.propTypes={dateTime:i.a.string,invalidValueText:i.a.string}},190:function(e,t,a){"use strict";var n=a(0),l=a.n(n),s=(a(60),a(165)),r=a(277),c=a(275),i=a(198),u=a(199);t.a=function(e){var t=e.title,a=e.isReloading,m=e.onReload,o=e.children;console.log(e);var d=a?s.a:n.Fragment;return l.a.createElement(d,e.isReloading?{blocking:a}:{},l.a.createElement(c.a,{className:e.className},l.a.createElement(i.a,null,l.a.createElement(u.a,{tag:"h4"},t),m&&l.a.createElement("div",{className:"action-icons"},l.a.createElement(r.a,{className:"cursor-pointer",size:15,onClick:function(){return m()}}))),o))}},191:function(e,t,a){},254:function(e,t,a){"use strict";var n=a(0),l=a.n(n),s=a(203),r=a(204),c=a(156),i=a(275),u=a(276),m=a(212),o=a(170),d=a(261),E=a(444),g=a(62),f=a(172);t.a=Object(f.j)(Object(g.b)()(function(e){var t=e.test,a=e.isEdit,n=e.onChangeView;return l.a.createElement(l.a.Fragment,null,Object.keys(t).length>0&&l.a.createElement("div",null,l.a.createElement(s.a,{className:"mb-2"},l.a.createElement(r.a,{md:"6"},l.a.createElement(c.a.Ripple,{className:"btn-icon",size:"sm",onClick:function(){return e.history.goBack()}},l.a.createElement(d.a,{size:16})),l.a.createElement("h3",{className:"ml-2 d-inline m-0"},"Test")),a&&l.a.createElement(r.a,{md:"6",className:"text-right"},l.a.createElement(c.a.Ripple,{className:"mr-1",color:"secondary",onClick:n},l.a.createElement(E.a,{size:14}),l.a.createElement("span",{className:"align-middle ml-25"},"Edit")),l.a.createElement(c.a.Ripple,{color:"primary",onClick:function(){e.history.push({pathname:"/assign-test/".concat(t.testId),state:{test:t}})}},l.a.createElement("span",{className:"align-middle ml-25"},"Test Dashboard")))),l.a.createElement(i.a,null,l.a.createElement(u.a,null,l.a.createElement(s.a,null,l.a.createElement(r.a,null,l.a.createElement("div",{className:"user-avatar-section"},l.a.createElement("div",{className:"d-flex justify-content-start"},l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement("div",{className:"user-info "},l.a.createElement("h4",{className:""},t.title),l.a.createElement(s.a,null,l.a.createElement(m.a,{tag:"span",className:"ml-1"},"Created At: ",l.a.createElement("strong",null,l.a.createElement(o.a,{dateTime:t.createdAt,type:"datetime"})))),l.a.createElement(s.a,null,l.a.createElement(m.a,{tag:"span",className:"ml-1"},"Duration: ",l.a.createElement("strong",null,t.timeLimit/60," mins")))))))))))))}))},446:function(e,t,a){},549:function(e,t,a){}}]);
//# sourceMappingURL=32.3ad74bbc.chunk.js.map